!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vuex"),require("vue")):"function"==typeof define&&define.amd?define(["exports","vuex","vue"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UniUI={},t.vuex,t.Vue)}(this,(function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function c(t){r(a,i,o,c,u,"next",t)}function u(t){r(a,i,o,c,u,"throw",t)}c(void 0)}))}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}function c(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h={exports:{}},p={exports:{}};!function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(p);var v=p.exports;!function(t){var e=v.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},o=Object.prototype,a=o.hasOwnProperty,c=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(r){h=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),a=new T(r||[]);return c(o,"_invoke",{value:_(t,n,a)}),o}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=p;var d="suspendedStart",y="suspendedYield",g="executing",m="completed",b={};function w(){}function O(){}function k(){}var S={};h(S,s,(function(){return this}));var j=Object.getPrototypeOf,P=j&&j(j(N([])));P&&P!==o&&a.call(P,s)&&(S=P);var x=k.prototype=w.prototype=Object.create(S);function D(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,n){function r(i,o,c,u){var s=v(t[i],t,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==e(f)&&a.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):n.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var i;c(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,i){r(t,e,n,i)}))}return i=i?i.then(o,o):o()}})}function _(t,e,n){var i=d;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:r,done:!0}}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var s=v(t,e,n);if("normal"===s.type){if(i=n.done?m:y,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=m,n.method="throw",n.arg=s.arg)}}}function E(t,e){var n=e.method,i=t.iterator[n];if(i===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=r,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=v(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,b;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,b):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}throw new TypeError(e(t)+" is not iterable")}return O.prototype=k,c(x,"constructor",{value:k,configurable:!0}),c(k,"constructor",{value:O,configurable:!0}),O.displayName=h(k,f,"GeneratorFunction"),i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,h(t,f,"GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},D(I.prototype),h(I.prototype,l,(function(){return this})),i.AsyncIterator=I,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new I(p(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},D(x),h(x,f,"Generator"),h(x,s,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),i.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},i.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return c.type="throw",c.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),b}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(h);var d=(0,h.exports)(),y=d;try{regeneratorRuntime=d}catch(t){"object"===("undefined"==typeof globalThis?"undefined":o(globalThis))?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}var g=f(y);function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){for(var e=(new Date).getTime();(new Date).getTime()-e<t;);}var S=function(){function t(){u(this,t),this.device={notify:!0},this.adapterState={discovering:!1,available:!1}}var e,n;return l(t,[{key:"setDevice",value:function(t){return this.device=O(O({},this.device),t),this}},{key:"reset",value:function(){return this.device={notify:!0},this.adapterState={discovering:!1,available:!1},this}},{key:"openBluetoothAdapter",value:function(){return new Promise((function(t,e){uni.openBluetoothAdapter({success:function(e){console.log("初始化蓝牙模块成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("初始化蓝牙模块失败",JSON.stringify(t)),e(t)}})}))}},{key:"closeBluetoothAdapter",value:function(){return new Promise((function(t,e){uni.closeBluetoothAdapter({success:function(e){console.log("断开蓝牙模块成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("断开蓝牙模块失败",JSON.stringify(t)),e(t)}})}))}},{key:"startBluetoothDevicesDiscovery",value:function(){return new Promise((function(t,e){uni.startBluetoothDevicesDiscovery({success:function(e){console.log("开始搜索蓝牙设备成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("开始搜索蓝牙设备失败",JSON.stringify(t)),e(t)}})}))}},{key:"stopBluetoothDevicesDiscovery",value:function(){return new Promise((function(t,e){uni.stopBluetoothDevicesDiscovery({success:function(e){console.log("停止搜索蓝牙设备成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("停止搜索蓝牙设备失败",JSON.stringify(t)),e(t)}})}))}},{key:"onBluetoothDeviceFound",value:function(t){var e=this;uni.onBluetoothDeviceFound((function(){e.getBluetoothDevices().then((function(e){t&&t(e)}))}))}},{key:"getBluetoothDevices",value:function(){return new Promise((function(t,e){uni.getBluetoothDevices({success:function(e){var n=e.devices.filter((function(t){return t.localName}));console.log("获取蓝牙设备成功",JSON.stringify(n)),t(n)},fail:function(t){console.log("获取蓝牙设备失败",JSON.stringify(t)),e(t)}})}))}},{key:"getBluetoothAdapterState",value:function(){var t=this;return new Promise((function(e,n){uni.getBluetoothAdapterState({success:function(n){t.adapterState=n,console.log("获取本机蓝牙适配器状态成功",JSON.stringify(n)),e(n)},fail:function(t){console.log("获取本机蓝牙适配器状态失败",JSON.stringify(t)),n(t)}})}))}},{key:"createBLEConnection",value:function(t){var e=this;return new Promise((function(n,r){uni.createBLEConnection({deviceId:t.deviceId,success:function(r){e.setDevice(t),e.stopBluetoothDevicesDiscovery(),console.log("连接低功耗蓝牙成功",JSON.stringify(r)),n(r)},fail:function(t){console.log("连接低功耗蓝牙失败",JSON.stringify(t)),r(t)}})}))}},{key:"closeBLEConnection",value:function(){var t=this,e=this.device.deviceId;return new Promise((function(n,r){e?uni.closeBLEConnection({deviceId:e,success:function(e){t.reset(),console.log("断开低功耗蓝牙成功",JSON.stringify(e)),n(e)},fail:function(t){console.log("断开低功耗蓝牙失败",JSON.stringify(t)),r(t)}}):r({msg:"未连接蓝牙设备，无需断开"})}))}},{key:"getBLEDeviceServices",value:function(){var t=this.device.deviceId;return new Promise((function(e,n){uni.getBLEDeviceServices({deviceId:t,success:function(t){console.log("获取设备服务成功",JSON.stringify(t)),e(t)},fail:function(t){console.log("获取设备服务失败",JSON.stringify(t)),n(t)}})}))}},{key:"getReadWriteBLEValue",value:(n=i(g.mark((function t(){var e=this;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(g.mark((function t(n,r){var i,o,a,c,u,s,l,f;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.device.deviceId,t.next=4,e.getBLEDeviceServices();case 4:o=t.sent,a=m(o.services),t.prev=6,a.s();case 8:if((c=a.n()).done){t.next=23;break}return u=c.value,s=u.uuid,t.next=13,e.getBLEDeviceCharacteristicsById({deviceId:i,serviceId:s});case 13:if(!(l=t.sent)){t.next=21;break}if(console.log(s,l),!((f=l.characteristics.filter((function(t){return t.properties.read&&t.properties.write&&t.properties.notify&&t.properties.indicate}))).length>0)){t.next=21;break}return e.setDevice({serviceId:s,characteristicId:f[0].uuid,characteristic:f[0]}),console.log("寻找到可以读写的特性",s,f[0].uuid),t.abrupt("return",n({status:1,msg:"成功找到可以读写的特征值",data:{serviceId:s,characteristicId:f[0].uuid,characteristic:f[0]}}));case 21:t.next=8;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(6),a.e(t.t0);case 28:return t.prev=28,a.f(),t.finish(28);case 31:return t.abrupt("return",r("未找到可以读写的特征值"));case 34:t.prev=34,t.t1=t.catch(0),r(t.t1);case 37:case"end":return t.stop()}}),t,null,[[0,34],[6,25,28,31]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"getBLEDeviceCharacteristicsById",value:function(t){var e=t.deviceId,n=t.serviceId;return new Promise((function(t,r){uni.getBLEDeviceCharacteristics({deviceId:e,serviceId:n,success:function(e){t(e)},fail:function(t){r(t)}})}))}},{key:"getBLEDeviceCharacteristics",value:function(){var t=this,e=this.device,n=e.deviceId,r=e.serviceId;return new Promise((function(e,i){uni.getBLEDeviceCharacteristics({deviceId:n,serviceId:r,success:function(i){for(var o in t.setDevice({deviceId:n,serviceId:r}),console.log("获取特征值成功",JSON.stringify(i)),e(i),i.characteristics){var a=i.characteristics[o],c=a.uuid,u=a.properties.notify;t.setDevice({characteristicId:c,notify:u}).notifyBLECharacteristicValueChange(),k(1)}},fail:function(t){console.log("获取特征值失败",JSON.stringify(t)),i(t)}})}))}},{key:"notifyBLECharacteristicValueChange",value:function(){var t=this.device,e=t.deviceId,n=t.serviceId,r=t.characteristicId,i=t.notify;return console.log({deviceId:e,serviceId:n,characteristicId:r,notify:i}),new Promise((function(t,o){i?uni.notifyBLECharacteristicValueChange({state:!0,deviceId:e,serviceId:n,characteristicId:r,success:function(e){console.log("启用蓝牙设备特征值notify成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("启用蓝牙设备特征值notify失败",JSON.stringify(t)),o(t)}}):o({msg:"not support notify"})}))}},{key:"readBLECharacteristicValue",value:function(){var t=this.device,e=t.deviceId,n=t.serviceId,r=t.characteristicId;return new Promise((function(t,i){uni.readBLECharacteristicValue({deviceId:e,serviceId:n,characteristicId:r,success:function(e){console.log("读取设备数据值成功",JSON.stringify(e)),t(e)},fail:function(t){console.log("读取设备数据值失败",JSON.stringify(res)),i(t)}})}))}},{key:"writeBLECharacteristicValue",value:function(t){var e=this.device,n=e.deviceId,r=e.serviceId,i=e.characteristicId;return new Promise((function(e,o){uni.writeBLECharacteristicValue({deviceId:n,serviceId:r,characteristicId:i,value:t,success:function(t){console.log("写入成功",JSON.stringify(t)),e(t)},fail:function(t){console.log("写入失败",JSON.stringify(t)),o(t)}})}))}},{key:"writeBLEValueLoop",value:(e=i(g.mark((function t(e){var n=this;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(g.mark((function t(r,i){var o,a,c,u;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.getSliceBufferList(e),a=m(o),t.prev=3,u=g.mark((function t(){var e,r;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.value,r=0;case 2:if(!(r<=1)){t.next=23;break}return t.prev=3,t.next=6,n.writeBLECharacteristicValue(e);case 6:if(!t.sent){t.next=10;break}return console.log("Successfully sent ".concat(e)),t.abrupt("break",23);case 10:t.next=21;break;case 12:if(t.prev=12,t.t0=t.catch(3),r++,console.error("Failed to send ".concat(e,", retrying... (").concat(r,"/").concat(1,")")),!(r>1)){t.next=19;break}return console.error("Max retries reached, failed to send ".concat(e,".")),t.abrupt("break",23);case 19:return t.next=21,new Promise((function(t){return setTimeout(t,500*r)}));case 21:t.next=2;break;case 23:case"end":return t.stop()}}),t,null,[[3,12]])})),a.s();case 6:if((c=a.n()).done){t.next=10;break}return t.delegateYield(u(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),a.e(t.t1);case 15:return t.prev=15,a.f(),t.finish(15);case 18:console.log("All items sent successfully."),r({status:1,msg:"发送完成"});case 20:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"writeBLEValueDelay",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=m(this.getSliceBufferList(t));try{var o=function(){var t=e.value;setTimeout((function(){n.writeBLECharacteristicValue(t)}),r),r+=r};for(i.s();!(e=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}}},{key:"getSliceBufferList",value:function(t){for(var e=0,n=t.byteLength,r=[];n>0;){var i=void 0;n>20?(i=t.slice(e,e+20),e+=20,n-=20):(i=t.slice(e,e+n),e+=n,n-=n),r.push(i)}return r}}]),t}(),j=function(){function t(e){u(this,t),this.url=e,this.tempFilePath=null}return l(t,[{key:"start",value:function(t){var e=this,n=t.success,r=t.fail,i=t.progress;if(this.tempFilePath)return i(100),n(this.tempFilePath);var o=0;uni.downloadFile({url:this.url,success:function(t){200===t.statusCode?(i(100),e.tempFilePath=t.tempFilePath,n(t.tempFilePath)):r()},fail:function(t){r(t)}}).onProgressUpdate((function(t){o!==t.progress&&(o=t.progress,i(t.progress))}))}}]),t}(),P=function(){function t(){u(this,t)}return l(t,null,[{key:"Builder",get:function(){return j}}]),t}();function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I={json:"application/json;charset=UTF-8",urlencoded:"application/x-www-form-urlencoded",formdata:"multipart/form-data"},_=l((function t(e){var n=this;u(this,t),Object.keys(e).forEach((function(t){n[t]="Content-Type"===t&&I[e[t]]||e[t]}))})),E=function(){function t(e){u(this,t),this.http=e}return l(t,[{key:"dispatch",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e.use.bind(e,t[r])})),n}},{key:"use",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.url||t.url;r+=n.append||"";var i=function(t){return t},o=n.success||i;return this.http.request(D(D({url:r,data:e},t),n)).then((function(t){return o(t,i)}))}}]),t}(),L=function(){function t(){u(this,t),this.config={baseURL:"",header:new _({"Content-Type":"json"}),data:{},method:"GET",dataType:"json",responseType:"text",success:function(){},fail:function(){},complete:function(){}},this.interceptors={response:{use:function(t,e,n){this.handler=t,this.onerror=e,this.complete=n}},request:{use:function(t){this.handler=t}}},C(this.interceptors.request),C(this.interceptors.response)}return l(t,[{key:"setBaseURL",value:function(t){return this.config.baseURL=t,this}},{key:"setHeader",value:function(t){return this.config.header=D(D({},this.config.header),t),this}},{key:"setData",value:function(t){return N(t)?this.config.data=t:this.config.data=D(D({},this.config.data),t),this}},{key:"request",value:function(t){var e=this;t||(t={});var n=t.url,r=t.data||{};if(t.baseURL=void 0!==t.baseURL?t.baseURL:this.config.baseURL,t.header=D(D({},this.config.header),t.header),t.method=t.method||this.config.method,t.dataType=t.dataType||this.config.dataType,N(r)?t.data=r:t.data=D(D({},this.config.data),r),"upload"===t.method)return n=n&&0!==n.indexOf("http")?t.baseURL+n:n,new Promise((function(t,e){uni.uploadFile({url:n,filePath:r.filePath,name:r.name,formData:r.formData||{},success:function(e){t(e)},fail:function(t){e(t)}})}));var i=this.interceptors,o=i.request,a=i.response,c=o.handler;return new Promise((function(n,r){function i(t){return t&&t.then&&t.catch}function u(t,e){t?t.then((function(){e()})):e()}function s(e,o,c){u(a.p,(function(){if(e){o.request=t;var u=e.call(a,o,Promise);o=void 0===u?o:u}i(o)||(o=Promise[0===c?"resolve":"reject"](o)),o.then((function(t){n(t.data)})).catch((function(t){r(t)}))}))}t.complete=function(t){var e=t.statusCode,n=0;e>=200&&e<300||304===e?(n=0,s(a.handler,t,n)):(n=-1,s(a.onerror,t,n)),s(a.complete,t,n)},u(o.p,(function(){(t=Object.assign({},e.config,t)).requestId=(new Date).getTime();var a=t;c&&(a=c.call(o,t,Promise)||t),i(a)||(a=Promise.resolve(a)),a.then((function(e){e===t?(e.url=e.url&&0!==e.url.indexOf("http")?e.baseURL+e.url:e.url,e.url=e.restURL?e.url+e.restURL:e.url,uni.request(e)):n(e)}),(function(t){r(t)}))}))}))}},{key:"all",value:function(t){return Promise.all(t)}},{key:"spread",value:function(t){return function(e){return t.apply(null,e)}}}],[{key:"Builder",get:function(){return E}}]),t}();function B(t,e){for(var n in e)t.hasOwnProperty(n)?T(e[n],1)&&T(t[n],1)&&this.merge(t[n],e[n]):t[n]=e[n];return t}function T(t,e){return e?"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase():t&&"object"===o(t)}function N(t){return Array.isArray(t)}function C(t){var e,n;function r(){t.p=e=n=null}B(t,{lock:function(){e||(t.p=new Promise((function(t,r){e=t,n=r})))},unlock:function(){e&&(e(),r())},clear:function(){n&&(n("cancel"),r())}})}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}["get","post","put","patch","head","delete","upload"].forEach((function(t){L.prototype[t]=function(e,n,r){return this.request(B({url:e,data:n,method:t},r))}})),["lock","unlock","clear"].forEach((function(t){L.prototype[t]=function(){this.interceptors.request[t]()}}));var F=function(){function t(e){u(this,t),this.store=e||(new n).$store,this.storeKeys=[];try{this.storeKeys=e.getters?Object.keys(e.getters):[]}catch(t){this.storeKeys=[]}}return l(t,[{key:"init",value:function(){return{data:function(){return{}},computed:M({},e.mapGetters(this.storeKeys)),methods:{},onReachBottom:function(){uni.$emit("onLoadMore")}}}}]),t}(),$=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;u(this,t),this.delay=e,this.previous=0,this.timeout=void 0}return l(t,[{key:"throttle",value:function(t,e){e=e||this.delay;var n=Date.now();n-this.previous>e&&(t(),this.previous=n)}},{key:"debounce",value:function(t,e){e=e||this.delay,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t()}),e)}}]),t}(),J=function(){function t(){u(this,t)}return l(t,null,[{key:"Builder",get:function(){return $}}]),t}();function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!==o(t)&&"function"!=typeof t)return t;var e,n=(e=t,"[object Array]"===Object.prototype.toString.call(e)?[]:{});for(var r in t)t.hasOwnProperty(r)&&(n[r]="object"===o(t[r])?V(t[r]):t[r]);return n}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==o(t=V(t))||"object"!==o(e))return!1;for(var n in e)e.hasOwnProperty(n)&&(n in t?"object"!==o(t[n])||"object"!==o(e[n])?t[n]=e[n]:t[n].concat&&e[n].concat?t[n]=t[n].concat(e[n]):t[n]=q(t[n],e[n]):t[n]=e[n]);return t}var G=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;u(this,t),this.page=e,this.limit=n,this.pages=0,this.total=0,this.data=[]}return l(t,[{key:"offset",get:function(){return z(this.data)?0:(this.page-1)*this.limit}},{key:"empty",get:function(){return z(this.data)?(t=this.data,0===Object.keys(t).length):0===this.data.length;var t}},{key:"setPage",value:function(t){return this.page=t,this}},{key:"setLimit",value:function(t){return this.limit=t,this}},{key:"setData",value:function(t){var e;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.data=t:z(t)?(this.data=(e=this.data,Array.isArray(e)?{}:this.data),this.data=q(this.data,t)):this.data=[].concat(U(this.data),U(t)),this}},{key:"resetData",value:function(t){return this.setData(t,!0)}},{key:"setPages",value:function(t){return this.pages=t,this}},{key:"setTotal",value:function(t){return this.total=t,this.setPages(function(t){var e=t.limit,n=t.total,r=1;n=Number(n),e=Number(e),n&&e&&(r=Math.ceil(n/e));return r}(this)),this}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return this.page=t,this.limit=e,this.pages=0,this.total=0,this.data=[],this}},{key:"pagePlus",value:function(){return this.page++,this}},{key:"pageMinus",value:function(){return this.page--,this}},{key:"hasMore",value:function(){var t=this.page<this.pages;return t&&this.page++,t}},{key:"loadmore",value:function(){return this.empty||this.pages<=1?"":this.page>=this.pages?"nomore":"loading"}}]),t}();function z(t){return"[object Object]"===Object.prototype.toString.call(t)}var Z=function(){function t(){return u(this,t),t.instance||(t.instance=this),t.instance}return l(t,[{key:"version",value:function(){return plus.runtime.version}},{key:"versionCode",value:function(){return plus.runtime.versionCode}},{key:"clientInfo",value:function(){return plus.push.getClientInfo()}},{key:"clientid",value:function(){var t=this.clientInfo().clientid;return"null"==t?"":t}},{key:"openURL",value:function(t){plus.runtime.openURL(t)}}]),t}(),H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(this,t),t.instance||(this.title=e,t.instance=this),t.instance}return l(t,[{key:"getCid",value:function(){var t=plus.push.getClientInfo();return"null"==t.clientid?"":t.clientid}},{key:"register",value:function(t){var e=this;plus.push.addEventListener("receive",(function(t){"iOS"==plus.os.name&&(t.aps||e.createLocalMsg(t))}),!1),plus.push.addEventListener("click",(function(e){t&&t(e)}),!1)}},{key:"createLocalMsg",value:function(t){t&&"LocalMSG"!==t.payload&&plus.push.createMessage(t.content,"LocalMSG",{cover:!1,title:this.title||t.title})}},{key:"clearBadge",value:function(){setTimeout((function(){(plus.runtime.setBadgeNumber(0),"ios"==uni.getSystemInfoSync().platform)&&plus.ios.importClass("GeTuiSdk").setBadge(0)}),100)}}]),t}(),Y=function(){function t(e){return u(this,t),t.instance&&this.store||(this.store=e||(new n).$store,t.instance=this),t.instance}return l(t,[{key:"commit",value:function(t,e){this.store.commit(t,e)}},{key:"dispatch",value:function(t,e){this.store.dispatch(t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return this.store.getters["getter_".concat(e)][t]}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base";return this.store.commit("".concat(n,"/commit"),c({},t,e)),this}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base";return Array.isArray(e)&&e.forEach((function(e){t.store.commit("".concat(e,"/reset"))})),"string"==typeof e&&this.store.commit("".concat(e,"/reset")),this}},{key:"getStorage",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base";try{return uni.getStorageSync("storage_".concat(n,"_").concat(t))||e}catch(t){}}},{key:"removeStorage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";try{uni.removeStorageSync("storage_".concat(e,"_").concat(t))}catch(t){}return this}},{key:"clearStorage",value:function(){try{uni.clearStorageSync()}catch(t){}return this}},{key:"setDev",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.get("dev").logs||[];return this.set("dev",{open:e,logs:Array.isArray(t)?[].concat(U(n),U(t)):[].concat(U(n),[t])}),this}},{key:"closeDev",value:function(){return this.set("dev",{open:!1,logs:[]}),this}}]),t}();function K(t,e){return c({},t,e)}var W=l((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base";u(this,t),this.namespaced=!0,this.state=e,this.mutations={commit:function(t,e){Object.keys(e).forEach((function(i){var o=i.split("."),a="",u=o.length;if(u>=2){for(var s=c({},o[u-1],e[i]),l=u-2;l>0;l--)s=K([o[l]],s);a=o[0],t[a]=V(q(t[a]||{},s))}else t[a=i]=V(e[a]);!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(-1!=n.indexOf(t))try{uni.setStorageSync("storage_".concat(r,"_").concat(t),e)}catch(t){}}(a,t[a],n,r)}))},reset:function(t){for(var e in t)t[e]=(i=t[e],Array.isArray(i)?[]:"object"===o(i)?{}:"boolean"!=typeof i&&"");var i;n.forEach((function(t){try{uni.removeStorageSync("storage_".concat(r,"_").concat(t))}catch(t){}}))}},this.actions={dispatch:function(t,e){(0,t.commit)("commit",e)},reset:function(t){(0,t.commit)("reset")}}}));function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt=function(){function t(e){return u(this,t),t.instance||(this.store=e||(new n).$store,t.instance=this),t.instance}return l(t,[{key:"loading",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.store.commit("base/commit",{loading:X({show:!0,text:t},e)})}},{key:"loaded",value:function(){this.store.commit("base/commit",{loading:{show:!1}})}},{key:"toast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==Boolean(t)?this.store.commit("base/commit",{toast:X({title:t,icon:e},n)}):this.store.commit("base/commit",{toast:{}})}},{key:"info",value:function(t){this.toast(t,"info")}},{key:"success",value:function(t){this.toast(t,"success")}},{key:"fail",value:function(t){this.toast(t,"fail")}},{key:"confirm",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showCancel:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){uni.showModal({title:e.title||"提示",content:t,showCancel:e.showCancel,confirmText:e.confirmText||"确定",cancelText:e.cancelText||"取消",success:function(t){t.confirm?r(n):t.cancel&&i(n)}})}))}}]),t}();function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt=new Y,it={base:new W({user:rt.getStorage("user",{},"base"),token:rt.getStorage("token","","base"),bundle:{},loading:{},toast:{},dev:{open:!1,logs:[]}},["user","token"],"base")},ot={modules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(nt({},it),t)},getters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=this.modules(t);return Object.keys(n).forEach((function(t){e["getter_".concat(t)]=function(e){return e[t]},Object.keys(n[t].state).forEach((function(n){e["getter_".concat(t,"_").concat(n)]=function(e){return e[t][n]}}))})),e}};function at(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ut={validation:function(t,e){var n,r=at(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.name,a=i.rule,c=i.msg,u=void 0===t[o]?"":t[o];if(o&&a&&0!==a.length&&c&&0!==c.length&&("required"===a[0]||u))for(var s=0,l=a.length;s<l;s++){var f=a[s],h=c[s];if(f&&h){var p=!1,v=null;if(~f.indexOf(":")){var d=f.split(":");f=d[0],v=d[1]}if(~f.indexOf("!")&&(p=!0,f=f.slice(1)),!ut["_".concat(f)])return"Not Found Function";var y=ut["_".concat(f)](u,v,t);if(y=p?!y:y)return"string"==typeof y?y:h}}}}catch(t){r.e(t)}finally{r.f()}return""},_required:function(t){return null===t||""===t||void 0===t},_isMobile:function(t){return/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/.test(t)},_isEmail:function(t){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t)},_isCarNo:function(t){return 7===t.length?/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/.test(t):8===t.length&&/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(t)},_isIdCard:function(t){var e=t;if(15==e.length)return this.__isValidityBrithBy15IdCard;if(18==e.length){var n=e.split("");return this.__isValidityBrithBy18IdCard(e)&&this.__isTrueValidateCodeBy18IdCard(n)}return!1},__isTrueValidateCodeBy18IdCard:function(t){var e=0,n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1];"x"==t[17].toLowerCase()&&(t[17]=10);for(var r=0;r<17;r++)e+=n[r]*t[r];var i=e%11;return t[17]==[1,0,10,9,8,7,6,5,4,3,2][i]},__isValidityBrithBy18IdCard:function(t){var e=t.substring(6,10),n=t.substring(10,12),r=t.substring(12,14),i=new Date(e,parseFloat(n)-1,parseFloat(r));return!(i.getFullYear()!=parseFloat(e)||i.getMonth()!=parseFloat(n)-1||i.getDate()!=parseFloat(r))},__isValidityBrithBy15IdCard:function(t){var e=t.substring(6,8),n=t.substring(8,10),r=t.substring(10,12),i=new Date(e,parseFloat(n)-1,parseFloat(r));return!(i.getYear()!=parseFloat(e)||i.getMonth()!=parseFloat(n)-1||i.getDate()!=parseFloat(r))},_isAmount:function(t){return/^([0-9]*[.]?[0-9])[0-9]{0,1}$/.test(t)},_isNum:function(t){return/^[0-9]+$/.test(t)},_isZh:function(t){return""!==t&&/.*[\u4e00-\u9fa5]+.*$/.test(t)&&!ut._isSpecial(t)&&!ut._isEmoji(t)},_isEn:function(t){return/^[a-zA-Z]*$/.test(t)},_isEnAndNum:function(t){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/.test(t)},_isEnOrNum:function(t,e){var n=!0;return(/.*[\u4e00-\u9fa5]+.*$/.test(t)||ut._isSpecial(t)||ut._isEmoji(t))&&(n=!1),e&&(n=t.length===e),n},_isSpecial:function(t){return!(!/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im.test(t)&&!/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im.test(t))},_isSpecialZh:function(t){return!!/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im.test(t)},_isEmoji:function(t){return/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(t)},_isDate:function(t){return/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/.test(t)},_isUrl:function(t){return/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t)},_isSame:function(t,e,n){return t===n[e]},_isRange:function(t,e){var n=null;try{if((n=JSON.parse(e)).length<=1)throw new Error("range值传入有误！")}catch(t){return"range值传入有误！"}var r=n[0],i=n[1];return!r&&0!=r&&!i&&0!=i||(r||0==r?i||0==i?t>=r&&t<=i:t>=r:t<=i)},_minLength:function(t,e){return t.length<Number(e)},_maxLength:function(t,e){return t.length>Number(e)}};var st;function lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";(t=parseInt(t))||(t=Number(new Date)),10==t.toString().length&&(t*=1e3);var n,r=new Date(t),i={"y+":r.getFullYear().toString(),"M+":(r.getMonth()+1).toString(),"d+":r.getDate().toString(),"h+":r.getHours().toString(),"m+":r.getMinutes().toString(),"s+":r.getSeconds().toString()};for(var o in i)(n=new RegExp("("+o+")").exec(e))&&(e=e.replace(n[1],1==n[1].length?i[o]:i[o].padStart(n[1].length,"0")));return e}var ft=function(){function t(){u(this,t),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}var e;return l(t,[{key:"addRootPath",value:function(t){return"/"===t[0]?t:"/".concat(t)}},{key:"mixinParam",value:function(t,e){t=t&&this.addRootPath(t);return/.*\/.*\?.*=.*/.test(t)?t+"&"+uni.$_u.queryParams(e,!1):t+uni.$_u.queryParams(e)}},{key:"route",value:(e=i(g.mark((function t(){var e,n,r,i=arguments;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r={},"string"==typeof(e=i.length>0&&void 0!==i[0]?i[0]:{})?(r.url=this.mixinParam(e,n),r.type="navigateTo"):(r=uni.$_u.deepClone(e,this.config)).url=this.mixinParam(e.url,e.params),n.intercept&&(this.config.intercept=n.intercept),r.params=n,r=uni.$_u.deepMerge(this.config,r),"function"!=typeof uni.$_u.routeIntercept){t.next=14;break}return t.next=10,new Promise((function(t,e){uni.$_u.routeIntercept(r,t)}));case 10:t.sent&&this.openPage(r),t.next=15;break;case 14:this.openPage(r);case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"openPage",value:function(t){var e=t.url;t.type;var n=t.delta,r=t.animationType,i=t.animationDuration;"navigateTo"!=t.type&&"to"!=t.type||uni.navigateTo({url:e,animationType:r,animationDuration:i}),"redirectTo"!=t.type&&"redirect"!=t.type||uni.redirectTo({url:e}),"switchTab"!=t.type&&"tab"!=t.type||uni.switchTab({url:e}),"reLaunch"!=t.type&&"launch"!=t.type||uni.reLaunch({url:e}),"navigateBack"!=t.type&&"back"!=t.type||uni.navigateBack({delta:n})}}]),t}(),ht=(new ft).route;var pt=0;var vt={$parent:function(t,e){for(var n=this.$parent;n;){if(n.$options.name===t)return n;n=n.$parent}return!1},color:{primary:"#2979ff",warning:"#ff9900",success:"#19be6b",error:"#fa3534",info:"#909399"},formatTime:lt,pastTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";null==t&&(t=Number(new Date)),10==(t=parseInt(t)).toString().length&&(t*=1e3);var n=(new Date).getTime()-t,r="";switch(!0){case(n=parseInt(n/1e3))<300:r="刚刚";break;case n>=300&&n<3600:r=parseInt(n/60)+"分钟前";break;case n>=3600&&n<86400:r=parseInt(n/3600)+"小时前";break;case n>=86400&&n<2592e3:r=parseInt(n/86400)+"天前";break;default:r=!1===e?n>=2592e3&&n<31536e3?parseInt(n/2592e3)+"个月前":parseInt(n/31536e3)+"年前":lt(t,e)}return r},getDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",n=new Date;return lt(n.setTime(n.getTime()+864e5*Number(t)),e)},debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(st&&clearTimeout(st),n){var r=!st;st=setTimeout((function(){st=null}),e),r&&"function"==typeof t&&t()}else st=setTimeout((function(){"function"==typeof t&&t()}),e)},deepClone:V,deepMerge:q,groupBy:function(t,e,n){var r={};return t.forEach((function(t){var n=e(t);r[n]=r[n]||[],r[n].push(t)})),Object.keys(r).map((function(t){return n?n(t,r):r[t]}))},guid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(n=n||r.length,t)for(var o=0;o<t;o++)i[o]=r[0|Math.random()*n];else{var a;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(var c=0;c<36;c++)i[c]||(a=0|16*Math.random(),i[c]=r[19==c?3&a|8:a])}return e?(i.shift(),"u"+i.join("")):i.join("")},pagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=t.length,i={data:[],page:e,limit:n,total:r,pages:Math.ceil(r/n)};if(n>=r)i.data=t,i.page=1;else{var o=n*(e-1);if(o<r){var a=o,c=o+n-1;i.data=t.filter((function(t,e){return e>=a&&e<=c}))}else{var u=parseInt(r/n),s=r%n;s>0?(i.page=u+1,i.data=t.filter((function(t,e){return e>=n*u&&e<=r}))):0===s&&(i.page=u,i.data=t.filter((function(t,e){return e>=n*(u-1)&&e<=r})))}}return i},queryParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"?":"",r=[];-1==["indices","brackets","repeat","comma"].indexOf(e)&&(e="brackets");var i=function(n){var i=t[n];if(["",void 0,null].indexOf(i)>=0)return 1;if(i.constructor===Array)switch(e){case"indices":for(var o=0;o<i.length;o++)r.push(n+"["+o+"]="+i[o]);break;case"brackets":default:i.forEach((function(t){r.push(n+"[]="+t)}));break;case"repeat":i.forEach((function(t){r.push(n+"="+t)}));break;case"comma":var a="";i.forEach((function(t){a+=(a?",":"")+t})),r.push(n+"="+a)}else r.push(n+"="+i)};for(var o in t)i(o);return r.length?n+r.join("&"):""},random:function(t,e){if(t>=0&&e>0&&e>=t){var n=e-t+1;return Math.floor(Math.random()*n+t)}return 0},route:ht,sleep:function(t){for(var e=(new Date).getTime();(new Date).getTime()-e<t;);},sys:function(){return uni.getSystemInfoSync()},os:function(){return uni.getSystemInfoSync().platform},isAndroid:function(){return"android"===uni.getSystemInfoSync().platform},isIOS:function(){return"ios"===uni.getSystemInfoSync().platform},throttle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Date.now();n-pt>e&&("function"==typeof t&&t(),pt=n)},trim:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"==e?t.replace(/^\s+|\s+$/g,""):"left"==e?t.replace(/^\s*/,""):"right"==e?t.replace(/(\s*$)/g,""):"all"==e?t.replace(/\s+/g,""):t},plus:new Z},dt={install:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).store;t.prototype.$_u=vt,e&&(t.mixin(new F(e).init()),t.prototype.$_u.store=new Y(e),t.prototype.$_u.tips=new tt(e),t.prototype.$_u.checker=ut)}};t.Bluetooth=S,t.Downloader=P,t.Http=L,t.HttpHeader=_,t.Mixin=F,t.Optimize=J,t.Pager=G,t.Plus=Z,t.Push=H,t.Store=Y,t.StoreModule=W,t.Tips=tt,t._u=vt,t.checker=ut,t.default=dt,t.useStore=ot,Object.defineProperty(t,"__esModule",{value:!0})}));
